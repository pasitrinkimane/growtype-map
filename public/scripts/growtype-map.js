!function(){"use strict";var e,o={833:function(){function e(e,o,n,i){var t,a;return(t=document.createElement("canvas")).width=e,t.height=o,(a=t.getContext("2d")).clearRect(0,0,e,o),a.fillStyle="#23A073",a.strokeStyle="white",a.beginPath(),a.moveTo(n,0),a.lineTo(e-n,0),a.quadraticCurveTo(e,0,e,n),a.lineTo(e,o-n),a.quadraticCurveTo(e,o,e-n,o),a.lineTo(n,o),a.quadraticCurveTo(0,o,0,o-n),a.lineTo(0,n),a.quadraticCurveTo(0,0,n,0),a.lineWidth=5,a.closePath(),a.fill(),a.stroke(),a.font="16px Arial",a.fillStyle="white",a.textAlign="center",a.fillText(i,t.width/2,t.height/2+6),t.toDataURL()}function o(e,o,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=!1,r=!1;if(window.growtypeMap[e].dynamic.selectedCategories.map((function(e){(null!==o&&-1!=o.indexOf(e)||i&&-1!=i.indexOf(e))&&(r=!0)})),r&&0===selectedAreas.length)return!0;var p=!1;return window.growtypeMap[e].dynamic.selectedLocations.map((function(e){(null!==n&&-1!=n.indexOf(e)||t&&-1!=t.indexOf(e))&&(p=!0)})),!(!p||0!==selectedCategories.length)||(!(!r||!p)||(0===window.growtypeMap[e].dynamic.selectedCategories.length&&0===window.growtypeMap[e].dynamic.selectedLocations.length||a))}var n=!1;function i(i,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n){$('.growtype-map-container[data-map-id="'+i+'"] + .spinner-border').show(),void 0!==window.growtypeMap[i].dynamic.markers&&a&&window.growtypeMap[i].dynamic.markers.forEach((function(e){e.forEach((function(e){e.setMap(null)}))})),void 0!==window.growtypeMap[i].dynamic.markerCluster&&a&&window.growtypeMap[i].dynamic.markerCluster.clearMarkers();var r=new google.maps.LatLngBounds,p=[],s=1,w=window.growtypeMap[i].static.markersGroups[t].categories,d=window.growtypeMap[i].static.markersGroups[t].locations;!window.growtypeMap[i].static.initiallyShowAllRoutes&&a&&window.growtypeMap[i].dynamic.polylines.map((function(e){e.setMap(null)})),window.growtypeMap[i].static.markersGroups[t].markers.map((function(n,a){if(window.growtypeMap[i].dynamic.currentMarkersGroupId&&window.growtypeMap[i].dynamic.currentMarkersGroupId!==t)return!1;if(!o(i,n.categories,n.locations,w,d))return!1;var l=n.latLng.replace(/\s/g,"").split(","),c=l[0],y=l[1],g=new google.maps.LatLng(c,y);r.extend(g);var m=new google.maps.Size(30,40);location.pin_icon_exists&&(m=new google.maps.Size(60,60));var u={url:location.icon,scaledSize:m,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,40)},f={position:g,optimized:!0,type:n.type,title:n.title,address:n.address,image:n.image,url:n.url,id:n.id,is_featured:n.is_featured,map:window.growtypeMap[i].dynamic.mapInstance};void 0!==n.icon&&n.icon?"route"===window.growtypeMap[i].static.map_type?(f.icon={url:e(30,30,19,s),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,20)},s++):f.icon=u:"hidden"===location.type&&(f.icon="#");var M=new google.maps.Marker(f),v=n.infowindow?n.infowindow.content:"",h=new google.maps.InfoWindow({content:v});google.maps.event.addListener(window.growtypeMap[i].dynamic.mapInstance,"click",(function(){h&&h.close(),window.growtypeMap[i].dynamic.prevInfoWindow&&window.growtypeMap[i].dynamic.prevInfoWindow.close()})),google.maps.event.addListener(window.growtypeMap[i].dynamic.mapInstance,"zoom_changed",(function(){window.growtypeMap[i].dynamic.prevInfoWindow&&window.growtypeMap[i].dynamic.prevInfoWindow.close()})),google.maps.event.addListener(M,"click",(function(e){window.growtypeMap[i].dynamic.prevInfoWindow&&window.growtypeMap[i].dynamic.prevInfoWindow.close(),h.open({anchor:M,map:window.growtypeMap[i].dynamic.mapInstance,shouldFocus:!1}),window.growtypeMap[i].dynamic.prevInfoWindow=h})),p.push(n)})),"route"===window.growtypeMap[i].static.map_type&&(void 0!==window.growtypeMap[i].dynamic.polylines[t]&&"function"==typeof window.growtypeMap[i].dynamic.polylines[t].setMap&&a&&window.growtypeMap[i].dynamic.polylines[t].setMap(null),window.growtypeMap[i].dynamic.polylines[t]=new google.maps.Polyline({strokeColor:"#0F524A",strokeOpacity:.8,strokeWeight:5}),setPreciseRoute(t,p,window.growtypeMap[i].dynamic.polylines)),0!==p.length&&null===window.growtypeMap[i].static.initialZoom&&window.growtypeMap[i].dynamic.mapInstance.fitBounds(r),$('.growtype-map-container[data-map-id="'+i+'"] + .spinner-border').hide(),n=!1}}function t(e,o){var n,i=o.filter((function(e){return!e.is_featured})),t=[{url:(n="#3548ff","data:image/svg+xml;base64,"+window.btoa('<svg fill="'+n+'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240"><circle cx="120" cy="120" opacity=".6" r="70" /><circle cx="120" cy="120" opacity=".3" r="90" /><circle cx="120" cy="120" opacity=".2" r="110" /></svg>')),width:40,height:40,textColor:"white",textSize:12}];window.growtypeMap[e].dynamic.markerCluster=new MarkerClusterer(window.growtypeMap[e].dynamic.mapInstance,i,{maxZoom:"route"===window.growtypeMap[e].static.mapType?10:16,gridSize:80,styles:t})}$=jQuery,window.growtypeMapInit=function(){console.log(growtypeMap),$(".growtype-map-container").each((function(e,o){var n=$(o).attr("data-map-id");window.growtypeMap[n].dynamic={mapInstance:null,markers:[],markerCluster:null,selectedCategories:[],selectedLocations:[],prevInfoWindow:null,visibleMarkersPostsIds:{},mapsInitialLoading:!0,previousVisibleMarkersPostsIds:{},lastPostWasRetrieved:!1,mainMarker:null,postsRequested:!1,polylines:[],currentMarkersGroupId:null,initialZoom:$(o).attr("data-initial-zoom")&&$(o).attr("data-initial-zoom").length>0?parseInt($(o).attr("data-initial-zoom")):null,searchBox:null},window.growtypeMap[n].static.initiallyShowAllRoutes||(window.growtypeMap[n].dynamic.currentMarkersGroupId=window.growtypeMap[n].static.initialGroupId),window.growtypeMap[n].dynamic.mapInstance=function(e,o,n,i){return new google.maps.Map(e,{center:new google.maps.LatLng(o,n),zoom:parseInt(i),options:{gestureHandling:"greedy"},scrollwheel:!1,disableDefaultUI:!0,mapTypeControl:!1,scaleControl:!1,zoomControl:!0,styles:[{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",stylers:[{color:"#f7f9fa"},{saturation:100},{lightness:35},{visibility:"off"}]},{featureType:"landscape.natural",stylers:[{color:"#eaf0f0"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#cfd8de"}]}]})}(o,window.growtypeMap[n].static.initialLat,window.growtypeMap[n].static.initialLng,window.growtypeMap[n].static.initialZoom),function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null===o?Object.entries(window.growtypeMap[e].static.markersGroups).map((function(o,t){o[1].markers.length>0&&(window.growtypeMap[e].dynamic.markers[o[0]]=i(e,o[0],n))})):window.growtypeMap[e].dynamic.markers[o]=i(e,o,n)}(n,window.growtypeMap[n].dynamic.currentMarkersGroupId,!1),t(n,[]),function(e){if(window.location.search.length>0&&window.location.search.indexOf("location")>0){var o=new google.maps.Geocoder,n=window.location.search.replace("?location=","");o.geocode({address:n},(function(e,o){"OK"===o?(mapInstance.setCenter(e[0].geometry.location),mapInstance.setZoom(14)):console.log("Geocode was not successful for the following reason: "+o)}))}var i=document.getElementById("growtype-map-search");window.growtypeMap[e].dynamic.searchBox=null!==i?new google.maps.places.SearchBox(i):null,i&&mapInstance.controls[google.maps.ControlPosition.TOP_LEFT].push(i),window.growtypeMap[e].dynamic.searchBox&&window.growtypeMap[e].dynamic.searchBox.addListener("places_changed",(function(){null!==prevInfowindow&&prevInfowindow.close();var o=window.growtypeMap[e].dynamic.searchBox.getPlaces();if(0!=o.length){var n=new google.maps.LatLngBounds;o.forEach((function(e){e.geometry&&e.geometry.location?e.geometry.viewport?n.union(e.geometry.viewport):n.extend(e.geometry.location):console.log("Returned place contains no geometry")})),window.growtypeMap[e].dynamic.mapInstance.fitBounds(n)}}))}(n),function(e){google.maps.event.addListener(window.growtypeMap[e].dynamic.mapInstance,"tilesloaded",(function(){if(window.growtypeMap[e].dynamic.markerCluster.clearMarkers(),void 0!==window.growtypeMap[e].dynamic.markers[window.growtypeMap[e].dynamic.currentMarkersGroupId]){var o=window.growtypeMap[e].dynamic.markers[window.growtypeMap[e].dynamic.currentMarkersGroupId].filter((function(o){return window.growtypeMap[e].dynamic.mapInstance.getBounds().contains(o.getPosition())}));t(e,o)}google.maps.event.addListener(window.growtypeMap[e].dynamic.markerCluster,"click",(function(o){null!==window.growtypeMap[e].dynamic.prevInfoWindow&&window.growtypeMap[e].dynamic.prevInfoWindow.close()}))}))}(n),function(e){window.growtypeMap[e].dynamic.mapInstance.addListener("idle",(function(){window.growtypeMap[e].dynamic.visibleMarkersPostsIds={},void 0!==window.growtypeMap[e].dynamic.markers[window.growtypeMap[e].static.initialGroupId]&&window.growtypeMap[e].dynamic.markers[window.growtypeMap[e].static.initialGroupId].map((function(o,n){window.growtypeMap[e].dynamic.mapInstance.getBounds().contains(o.getPosition())&&(o.location_id==$('.growtype-map-container[data-map-id="'+e+'"]').attr("main-marker")&&(window.growtypeMap[e].dynamic.mainMarker={location_id:o.location_id,index:n}),visibleMarkersPostsIds[o.location_id]=o.location_id)})),!window.growtypeMap[e].dynamic.mapsInitialLoading&&(JSON.stringify(window.growtypeMap[e].dynamic.previousVisibleMarkersPostsIds),JSON.stringify(window.growtypeMap[e].dynamic.visibleMarkersPostsIds)),window.growtypeMap[e].dynamic.searchBox&&window.growtypeMap[e].dynamic.searchBox.setBounds(window.growtypeMap[e].dynamic.mapInstance.getBounds()),window.growtypeMap[e].dynamic.mapsInitialLoading&&$('.growtype-map-container[data-map-id="'+e+'"]').attr("infowindow-open")&&null!==mainMarker&&google.maps.event.trigger(window.growtypeMap[e].dynamic.markers[window.growtypeMap[e].static.initialGroupId][window.growtypeMap[e].dynamic.mainMarker.index],"click"),window.growtypeMap[e].dynamic.mapsInitialLoading=!1,window.growtypeMap[e].dynamic.previousVisibleMarkersPostsIds=window.growtypeMap[e].dynamic.visibleMarkersPostsIds}))}(n)}))}},283:function(){}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return o[e](a,a.exports,i),a.exports}i.m=o,e=[],i.O=function(o,n,t,a){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],t=e[d][1],a=e[d][2];for(var p=!0,s=0;s<n.length;s++)(!1&a||r>=a)&&Object.keys(i.O).every((function(e){return i.O[e](n[s])}))?n.splice(s--,1):(p=!1,a<r&&(r=a));if(p){e.splice(d--,1);var w=t();void 0!==w&&(o=w)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,t,a]},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},function(){var e={986:0,301:0};i.O.j=function(o){return 0===e[o]};var o=function(o,n){var t,a,r=n[0],p=n[1],s=n[2],w=0;if(r.some((function(o){return 0!==e[o]}))){for(t in p)i.o(p,t)&&(i.m[t]=p[t]);if(s)var d=s(i)}for(o&&o(n);w<r.length;w++)a=r[w],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(d)},n=self.webpackChunkplugin=self.webpackChunkplugin||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}(),i.O(void 0,[301],(function(){return i(833)}));var t=i.O(void 0,[301],(function(){return i(283)}));t=i.O(t)}();
//# sourceMappingURL=growtype-map.js.map